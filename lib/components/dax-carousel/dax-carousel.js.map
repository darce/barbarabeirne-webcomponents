{"version":3,"file":"dax-carousel.js","sources":["../../../src/components/base/base-component.js","../../../src/components/dax-carousel/dax-carousel.js"],"sourcesContent":["/**\n * Module-level state store using WeakMaps for automatic garbage collection.\n * Private to this module - components access state via class methods.\n */\nconst stateMap = new WeakMap();\nconst refsMap = new WeakMap();\n\n/**\n * BaseComponent mixin - provides common functionality for web components.\n *\n * Public API (for subclasses):\n *   State:      initComponent, getComponentState, setComponentState,\n *                getComponentRefs, setComponentRefs\n *   Styles:     initStyles (reads static styles/stylesId)\n *   DOM:        initShadow, initLightDOM, queryRefs, queryLightRefs\n *   Attributes: getNumberAttr, getBooleanAttr, getStringAttr\n *   Events:     addManagedListener\n *   Timers:     setManagedInterval, clearManagedInterval, setManagedTimeout, clearManagedTimeout\n *   Cleanup:    cleanup (call in disconnectedCallback)\n */\nconst BaseComponent = (Base = HTMLElement) => class extends Base {\n    // Private fields\n    #listeners = [];\n\n    #timers = { intervals: [], timeouts: [] };\n\n    // ─────────────────────────────────────────────────────────────\n    // State Management (Public API)\n    // ─────────────────────────────────────────────────────────────\n\n    initComponent(state = {}, refs = {}) {\n        stateMap.set(this, state);\n        refsMap.set(this, refs);\n    }\n\n    getComponentState() {\n        return stateMap.get(this);\n    }\n\n    setComponentState(updates = {}) {\n        const state = stateMap.get(this);\n        if (!state) return;\n        Object.assign(state, updates);\n    }\n\n    getComponentRefs() {\n        return refsMap.get(this);\n    }\n\n    setComponentRefs(refs = {}) {\n        refsMap.set(this, refs);\n    }\n\n    #destroyComponent() {\n        stateMap.delete(this);\n        refsMap.delete(this);\n    }\n\n    // ─────────────────────────────────────────────────────────────\n    // Styles (Public API)\n    // ─────────────────────────────────────────────────────────────\n\n    /**\n     * Inject component styles into document head.\n     * Reads styles from static `styles` and `stylesId` properties.\n     * Only injects once per unique ID.\n     */\n    initStyles() {\n        const { styles, stylesId } = this.constructor;\n        if (!styles || !stylesId) return;\n        if (document.getElementById(stylesId)) return;\n        const styleEl = document.createElement('style');\n        styleEl.id = stylesId;\n        styleEl.textContent = styles;\n        document.head.appendChild(styleEl);\n    }\n\n    // ─────────────────────────────────────────────────────────────\n    // DOM Initialization (Public API)\n    // ─────────────────────────────────────────────────────────────\n\n    initShadow(template, mode = 'open') {\n        const shadow = this.attachShadow({ mode });\n        shadow.appendChild(template.content.cloneNode(true));\n        return shadow;\n    }\n\n    initLightDOM(template) {\n        this.appendChild(template.content.cloneNode(true));\n    }\n\n    queryRefs(selectors = {}) {\n        const shadow = this.shadowRoot;\n        if (!shadow) return {};\n\n        const refs = {};\n        Object.entries(selectors).forEach(([key, selector]) => {\n            refs[key] = shadow.querySelector(selector);\n        });\n        return refs;\n    }\n\n    queryLightRefs(selectors = {}) {\n        const refs = {};\n        Object.entries(selectors).forEach(([key, selector]) => {\n            refs[key] = this.querySelector(selector);\n        });\n        return refs;\n    }\n\n    // ─────────────────────────────────────────────────────────────\n    // Attribute Helpers (Public API)\n    // ─────────────────────────────────────────────────────────────\n\n    getNumberAttr(name, defaultValue = 0) {\n        const value = this.getAttribute(name);\n        return value !== null ? Number(value) : defaultValue;\n    }\n\n    getBooleanAttr(name) {\n        return this.hasAttribute(name);\n    }\n\n    getStringAttr(name, defaultValue = '') {\n        return this.getAttribute(name) ?? defaultValue;\n    }\n\n    // ─────────────────────────────────────────────────────────────\n    // Event Listener Management (Public API + Private cleanup)\n    // ─────────────────────────────────────────────────────────────\n\n    addManagedListener(target, event, handler, options) {\n        target.addEventListener(event, handler, options);\n        this.#listeners.push({\n            target,\n            event,\n            handler,\n            options,\n        });\n    }\n\n    #removeAllListeners() {\n        this.#listeners.forEach(({\n            target,\n            event,\n            handler,\n            options,\n        }) => {\n            target.removeEventListener(event, handler, options);\n        });\n        this.#listeners = [];\n    }\n\n    // ─────────────────────────────────────────────────────────────\n    // Timer Management (Public API + Private cleanup)\n    // ─────────────────────────────────────────────────────────────\n\n    setManagedInterval(callback, delay) {\n        const id = setInterval(callback, delay);\n        this.#timers.intervals.push(id);\n        return id;\n    }\n\n    clearManagedInterval(id) {\n        clearInterval(id);\n        this.#timers.intervals = this.#timers.intervals.filter((i) => i !== id);\n    }\n\n    setManagedTimeout(callback, delay) {\n        const id = setTimeout(callback, delay);\n        this.#timers.timeouts.push(id);\n        return id;\n    }\n\n    clearManagedTimeout(id) {\n        clearTimeout(id);\n        this.#timers.timeouts = this.#timers.timeouts.filter((i) => i !== id);\n    }\n\n    #clearAllTimers() {\n        this.#timers.intervals.forEach((id) => clearInterval(id));\n        this.#timers.timeouts.forEach((id) => clearTimeout(id));\n        this.#timers = { intervals: [], timeouts: [] };\n    }\n\n    // ─────────────────────────────────────────────────────────────\n    // Cleanup (Public API - call in disconnectedCallback)\n    // ─────────────────────────────────────────────────────────────\n\n    cleanup() {\n        this.#removeAllListeners();\n        this.#clearAllTimers();\n        this.#destroyComponent();\n    }\n};\n\nexport default BaseComponent;\n","import BaseComponent from '../base/base-component';\nimport styles from './dax-carousel.scss';\n\nconst DEFAULT_INTERVAL = 9995000;\nconst CONTROLS_FADE_INTERVAL = 9992500;\n\nconst CONTROLS_TEMPLATE = `\n    <nav class=\"dax-carousel-controls\" aria-label=\"Slideshow controls\">\n        <span class=\"dax-image-counter\" aria-live=\"polite\"></span>\n        <button class=\"dax-prev\" type=\"button\" aria-label=\"Previous slide\">\n            <span class=\"material-symbols-sharp\">skip_previous</span>\n        </button>\n        <button class=\"dax-play-pause\" type=\"button\" aria-label=\"Stop slideshow\">\n            <span class=\"material-symbols-sharp\">stop</span>\n        </button>\n        <button class=\"dax-next\" type=\"button\" aria-label=\"Next slide\">\n            <span class=\"material-symbols-sharp\">skip_next</span>\n        </button>\n    </nav>\n`;\n\nconst REF_SELECTORS = {\n    prevButton: '.dax-prev',\n    nextButton: '.dax-next',\n    playPauseButton: '.dax-play-pause',\n    buttonsContainer: '.dax-carousel-controls',\n    imageCounter: '.dax-image-counter',\n    // dotsContainer: '.dax-carousel-dots',\n};\n\nclass DaxCarousel extends BaseComponent(HTMLElement) {\n    static observedAttributes = ['interval', 'autoplay', 'fullscreen', 'no-controls', 'controls-target'];\n\n    static styles = styles;\n\n    static stylesId = 'dax-carousel-styles';\n\n    // Private state\n    #state = {\n        intervalMs: DEFAULT_INTERVAL,\n        autoplay: true,\n        fullscreen: false,\n        noControls: false,\n        controlsTarget: null,\n        currentIndex: 0,\n        timer: null,\n        controlsTimer: null,\n        wheelLock: false,\n        slides: [],\n        listEl: null,\n    };\n\n    #refs = {};\n\n    // Lifecycle methods\n    constructor() {\n        super();\n        this.#state.intervalMs = this.getNumberAttr('interval', DEFAULT_INTERVAL);\n        this.#state.autoplay = this.getBooleanAttr('autoplay');\n        this.#state.fullscreen = this.hasAttribute('fullscreen');\n        this.#state.noControls = this.hasAttribute('no-controls');\n    }\n\n    connectedCallback() {\n        // Read controls-target at connect time to ensure attribute is available\n        this.#state.controlsTarget = this.getAttribute('controls-target');\n\n        this.initStyles();\n        if (this.#state.fullscreen) {\n            this.classList.add('fullscreen');\n        }\n        if (this.#state.noControls) {\n            this.classList.add('no-controls');\n        }\n        this.#initControls();\n        this.#refreshSlides();\n        this.#attachEventListeners();\n        if (this.#state.autoplay) {\n            this.#start();\n        }\n    }\n\n    disconnectedCallback() {\n        this.cleanup();\n    }\n\n    attributeChangedCallback(name, oldValue, newValue) {\n        if (oldValue === newValue) return;\n        this.#handleAttributeChange(name, newValue);\n    }\n\n    // Private methods\n    #initControls() {\n        const template = document.createElement('template');\n        template.innerHTML = CONTROLS_TEMPLATE;\n        const controlsFragment = template.content.cloneNode(true);\n\n        // Determine where to render controls\n        let controlsContainer = null;\n        const targetSelector = this.#state.controlsTarget;\n\n        if (targetSelector) {\n            controlsContainer = document.querySelector(targetSelector);\n            // Debug: log whether target was found\n            // eslint-disable-next-line no-console\n            console.log(`[dax-carousel] controls-target=\"${targetSelector}\", found:`, !!controlsContainer);\n\n            if (controlsContainer) {\n                // Mark controls as external for styling\n                const nav = controlsFragment.querySelector('.dax-carousel-controls');\n                if (nav) {\n                    nav.classList.add('dax-carousel-controls--external');\n                }\n                controlsContainer.appendChild(controlsFragment);\n            } else {\n                // Fallback to internal if target not found\n                // eslint-disable-next-line no-console\n                console.warn(`[dax-carousel] Target \"${targetSelector}\" not found, rendering controls internally`);\n                this.appendChild(controlsFragment);\n            }\n        } else {\n            this.appendChild(controlsFragment);\n        }\n\n        // Query from the correct container\n        const queryRoot = controlsContainer || this;\n        this.#refs = {\n            prevButton: queryRoot.querySelector(REF_SELECTORS.prevButton),\n            nextButton: queryRoot.querySelector(REF_SELECTORS.nextButton),\n            playPauseButton: queryRoot.querySelector(REF_SELECTORS.playPauseButton),\n            buttonsContainer: queryRoot.querySelector(REF_SELECTORS.buttonsContainer),\n            imageCounter: queryRoot.querySelector(REF_SELECTORS.imageCounter),\n        };\n    }\n\n    #refreshSlides() {\n        const listEl = this.querySelector(':scope > ul, :scope > ol');\n        if (!listEl) return;\n\n        listEl.classList.add('dax-slides');\n        this.#state.listEl = listEl;\n\n        const slides = Array.from(listEl.children)\n            .filter((el) => el.nodeType === Node.ELEMENT_NODE);\n\n        slides.forEach((slideEl, idx) => {\n            slideEl.classList.add('dax-slide');\n            slideEl.dataset.daxIndex = String(idx);\n        });\n\n        this.#state.slides = slides;\n        this.#buildDots();\n\n        // Check URL for initial slide\n        const initialIndex = this.#checkUrl();\n        if (initialIndex !== -1) {\n            this.#state.currentIndex = initialIndex;\n        }\n\n        this.#setActive(this.#state.currentIndex);\n    }\n\n    #checkUrl() {\n        const { hash } = window.location;\n        if (!hash) return -1;\n\n        // Expectations: #images/filename (no extension)\n        const query = hash.replace(/^#/, '');\n        if (!query) return -1;\n\n        const index = this.#state.slides.findIndex((slide) => {\n            const img = slide.querySelector('img');\n            if (!img) return false;\n\n            const src = img.getAttribute('src');\n            if (!src) return false;\n\n            // Remove extension from src for comparison\n            // e.g. \"images/pic.jpg\" -> \"images/pic\"\n            const srcNoExt = src.replace(/\\.[^/.]+$/, '');\n\n            return srcNoExt.endsWith(query);\n        });\n\n        return index;\n    }\n\n    #updateUrl(index) {\n        const slide = this.#state.slides[index];\n        if (!slide) return;\n        const img = slide.querySelector('img');\n        if (!img) return;\n\n        const src = img.getAttribute('src');\n        if (src) {\n            // Remove extension for the hash\n            const srcNoExt = src.replace(/\\.[^/.]+$/, '');\n\n            // Update hash without scrolling\n            const hash = `#${srcNoExt}`;\n            if (window.location.hash !== hash) {\n                // usage of replaceState prevents cluttering history if we are just browsing\n                window.history.replaceState(null, '', hash);\n            }\n        }\n    }\n\n    #buildDots() {\n        const { dotsContainer } = this.#refs;\n        if (!dotsContainer) return;\n\n        dotsContainer.innerHTML = '';\n        this.#state.slides.forEach((_, idx) => {\n            const dot = document.createElement('button');\n            dot.type = 'button';\n            dot.className = 'dax-dot';\n            dot.setAttribute('aria-label', `Go to slide ${idx + 1}`);\n            dot.setAttribute('role', 'tab');\n            this.addManagedListener(dot, 'click', () => this.#setActive(idx));\n            dotsContainer.appendChild(dot);\n        });\n    }\n\n    #setActive(index) {\n        const { slides, currentIndex } = this.#state;\n        if (!slides.length) return;\n\n        const currentSlide = slides[currentIndex];\n        const nextIndex = (index + slides.length) % slides.length;\n        const nextSlide = slides[nextIndex];\n\n        if (currentSlide) {\n            currentSlide.classList.remove('dax-active');\n            currentSlide.setAttribute('aria-hidden', 'true');\n        }\n\n        if (nextSlide) {\n            nextSlide.classList.add('dax-active');\n            nextSlide.setAttribute('aria-hidden', 'false');\n            this.#positionControls(nextSlide);\n            this.#updateUrl(nextIndex);\n            this.#updateImageCounter(nextIndex);\n        }\n\n        // Update dots\n        // const dots = Array.from(this.#refs.dotsContainer.children);\n        // dots[currentIndex]?.classList.remove('active');\n        // dots[nextIndex]?.classList.add('active');\n\n        this.#state.currentIndex = nextIndex;\n    }\n\n    #positionControls(slide) {\n        const img = slide.querySelector('img');\n        if (!img) return;\n\n        const { buttonsContainer } = this.#refs;\n\n        // Position dots at bottom of image, buttons at 50% of image height\n        const updatePosition = () => {\n            const imgRect = img.getBoundingClientRect();\n            const carouselRect = this.getBoundingClientRect();\n            const imgTop = imgRect.top - carouselRect.top;\n            const imgHeight = imgRect.height;\n\n            // Dots at bottom of image\n            // if (dotsContainer) {\n            //     dotsContainer.style.top = `${imgTop + imgHeight}px`;\n            // }\n\n            // Buttons at 50% of image height\n            if (buttonsContainer) {\n                buttonsContainer.style.top = `${imgTop + imgHeight / 2}px`;\n            }\n        };\n\n        // Update immediately and after image loads\n        if (img.complete) {\n            updatePosition();\n        } else {\n            img.addEventListener('load', updatePosition, { once: true });\n        }\n    }\n\n    #attachEventListeners() {\n        const { prevButton, nextButton, playPauseButton } = this.#refs;\n\n        this.addManagedListener(prevButton, 'click', () => {\n            this.#prev();\n            if (this.#state.timer) this.#restartTimer();\n        });\n\n        this.addManagedListener(nextButton, 'click', () => {\n            this.#next();\n            if (this.#state.timer) this.#restartTimer();\n        });\n\n        this.addManagedListener(playPauseButton, 'click', () => {\n            if (this.#state.timer) {\n                this.#stop();\n            } else {\n                // Advance to next slide then start autoplay\n                this.#next();\n                this.#start();\n            }\n        });\n\n        // Reposition controls on window resize\n        this.addManagedListener(window, 'resize', () => {\n            const activeSlide = this.#state.slides[this.#state.currentIndex];\n            if (activeSlide) {\n                this.#positionControls(activeSlide);\n                // this.#updateCaptionWidth(activeSlide);\n            }\n        });\n\n        // Show controls on mouse move, fade out after timeout\n        this.addManagedListener(this, 'mousemove', () => this.#showControls());\n        this.addManagedListener(this, 'mouseenter', () => this.#showControls());\n\n        // Listen for gallery intro toggle to hide/show controls\n        this.addManagedListener(document, 'gallery-intro-toggle', (event) => {\n            this.#handleIntroToggle(event.detail.isOpen);\n        });\n        this.addManagedListener(document, 'ui-overlay-toggle', (event) => {\n            const { source, isOpen } = event.detail || {};\n            if (source === 'gallery-intro' || source === 'menu') {\n                this.#handleIntroToggle(isOpen);\n            }\n        });\n\n        // Keyboard shortcuts\n        this.addManagedListener(document, 'keydown', (event) => {\n            if (event.key === 'ArrowLeft') {\n                this.#prev();\n                this.#showControls();\n            }\n            if (event.key === 'ArrowRight') {\n                this.#next();\n                this.#showControls();\n            }\n            if (event.key === ' ') {\n                event.preventDefault();\n                if (this.#state.timer) {\n                    this.#stop();\n                } else {\n                    this.#next();\n                    this.#start();\n                }\n                this.#showControls();\n            }\n        });\n\n        // Scroll/wheel to advance slides\n        this.addManagedListener(this, 'wheel', (event) => {\n            this.#handleWheel(event);\n        }, { passive: false });\n\n        // Click on slide to advance to next\n        this.addManagedListener(this, 'click', (event) => {\n            // Only handle clicks on slides/images, not controls\n            const slide = event.target.closest('.dax-slide');\n            if (slide && !event.target.closest('.dax-carousel-controls')) {\n                this.#next();\n                this.#showControls();\n                // Stop autoplay on manual click\n                if (this.#state.timer) {\n                    this.#stop();\n                }\n            }\n        });\n\n        // Show controls initially\n        this.#showControls();\n    }\n\n    #showControls() {\n        this.classList.add('show-controls');\n\n        // Clear existing timer\n        if (this.#state.controlsTimer) {\n            this.clearManagedTimeout(this.#state.controlsTimer);\n        }\n\n        // Set new timer to hide controls\n        this.#state.controlsTimer = this.setManagedTimeout(() => {\n            this.classList.remove('show-controls');\n        }, CONTROLS_FADE_INTERVAL);\n    }\n\n    #handleIntroToggle(isOpen) {\n        // Hide controls immediately (no transition) when intro opens\n        if (isOpen) {\n            this.classList.add('hide-controls');\n            this.classList.remove('show-controls');\n            if (this.#state.controlsTimer) {\n                this.clearManagedTimeout(this.#state.controlsTimer);\n                this.#state.controlsTimer = null;\n            }\n        } else {\n            this.classList.remove('hide-controls');\n            this.#showControls();\n        }\n    }\n\n    #handleWheel(event) {\n        // Prevent page scroll\n        event.preventDefault();\n\n        // Debounce to avoid rapid-fire advances\n        if (this.#state.wheelLock) return;\n\n        const delta = event.deltaY;\n        const threshold = 30; // Minimum scroll delta to trigger\n\n        if (Math.abs(delta) < threshold) return;\n\n        this.#state.wheelLock = true;\n\n        if (delta > 0) {\n            // Scroll down = next\n            this.#next();\n        } else {\n            // Scroll up = previous\n            this.#prev();\n        }\n\n        this.#showControls();\n\n        // Stop autoplay on manual scroll\n        if (this.#state.timer) {\n            this.#stop();\n        }\n\n        // Release lock after delay\n        this.setManagedTimeout(() => {\n            this.#state.wheelLock = false;\n        }, 300);\n    }\n\n    #next() {\n        this.#setActive(this.#state.currentIndex + 1);\n    }\n\n    #prev() {\n        this.#setActive(this.#state.currentIndex - 1);\n    }\n\n    #start() {\n        if (this.#state.timer) return;\n        this.#state.timer = this.setManagedInterval(\n            () => this.#next(),\n            this.#state.intervalMs,\n        );\n        this.#state.autoplay = true;\n        this.#updatePlayPauseLabel();\n    }\n\n    #stop() {\n        if (!this.#state.timer) return;\n        this.clearManagedInterval(this.#state.timer);\n        this.#state.timer = null;\n        this.#state.autoplay = false;\n        this.#updatePlayPauseLabel();\n    }\n\n    #restartTimer() {\n        if (!this.#state.timer) return;\n        this.#stop();\n        this.#start();\n    }\n\n    #updatePlayPauseLabel() {\n        const { playPauseButton } = this.#refs;\n        if (!playPauseButton) return;\n\n        const isPlaying = Boolean(this.#state.timer);\n        const icon = playPauseButton.querySelector('.material-symbols-sharp');\n        if (icon) {\n            icon.textContent = isPlaying ? 'stop' : 'play_arrow';\n        }\n        playPauseButton.setAttribute(\n            'aria-label',\n            isPlaying ? 'Stop slideshow' : 'Start slideshow',\n        );\n    }\n\n    #updateImageCounter(index) {\n        const { imageCounter } = this.#refs;\n        if (!imageCounter) return;\n        const total = this.#state.slides.length;\n        imageCounter.textContent = `${index + 1}/${total}`;\n    }\n\n    #handleAttributeChange(name, newValue) {\n        if (name === 'interval') {\n            const parsedInterval = Number(newValue);\n            const newInterval = Number.isFinite(parsedInterval) && parsedInterval > 0\n                ? parsedInterval\n                : DEFAULT_INTERVAL;\n            this.#state.intervalMs = newInterval;\n            if (this.#state.timer) {\n                this.clearManagedInterval(this.#state.timer);\n                this.#state.timer = this.setManagedInterval(\n                    () => this.#next(),\n                    newInterval,\n                );\n            }\n        }\n    }\n}\n\ncustomElements.define('dax-carousel', DaxCarousel);\n\nexport default DaxCarousel;\n"],"names":["stateMap","WeakMap","refsMap","BaseComponent","_listeners","_timers","_Class_brand","Base","arguments","length","undefined","HTMLElement","WeakSet","_Base","_class","_this","_classCallCheck","_len","args","Array","_key","_callSuper","concat","_classPrivateMethodInitSpec","_classPrivateFieldInitSpec","intervals","timeouts","_inherits","_createClass","key","value","initComponent","state","refs","set","getComponentState","get","setComponentState","updates","Object","assign","getComponentRefs","setComponentRefs","initStyles","_this$constructor","constructor","styles","stylesId","document","getElementById","styleEl","createElement","id","textContent","head","appendChild","initShadow","template","mode","shadow","attachShadow","content","cloneNode","initLightDOM","queryRefs","selectors","shadowRoot","entries","forEach","_ref","_ref2","_slicedToArray","selector","querySelector","queryLightRefs","_this2","_ref3","_ref4","getNumberAttr","name","defaultValue","getAttribute","Number","getBooleanAttr","hasAttribute","getStringAttr","_this$getAttribute","addManagedListener","target","event","handler","options","addEventListener","_classPrivateFieldGet","push","setManagedInterval","callback","delay","setInterval","clearManagedInterval","clearInterval","filter","i","setManagedTimeout","setTimeout","clearManagedTimeout","clearTimeout","cleanup","_assertClassBrand","_removeAllListeners","call","_clearAllTimers","_destroyComponent","_ref5","removeEventListener","_classPrivateFieldSet","DEFAULT_INTERVAL","CONTROLS_FADE_INTERVAL","CONTROLS_TEMPLATE","REF_SELECTORS","prevButton","nextButton","playPauseButton","buttonsContainer","imageCounter","_state","_refs","_DaxCarousel_brand","DaxCarousel","_BaseComponent","intervalMs","autoplay","fullscreen","noControls","controlsTarget","currentIndex","timer","controlsTimer","wheelLock","slides","listEl","connectedCallback","classList","add","_initControls","_refreshSlides","_attachEventListeners","_start","disconnectedCallback","attributeChangedCallback","oldValue","newValue","_handleAttributeChange","innerHTML","controlsFragment","controlsContainer","targetSelector","console","log","nav","warn","queryRoot","from","children","el","nodeType","Node","ELEMENT_NODE","slideEl","idx","dataset","daxIndex","String","_buildDots","initialIndex","_checkUrl","_setActive","hash","window","location","query","replace","index","findIndex","slide","img","src","srcNoExt","endsWith","_updateUrl","history","replaceState","_classPrivateFieldGet2","dotsContainer","_","dot","type","className","setAttribute","_classPrivateFieldGet3","currentSlide","nextIndex","nextSlide","remove","_positionControls","_updateImageCounter","_this3","_classPrivateFieldGet4","updatePosition","imgRect","getBoundingClientRect","carouselRect","imgTop","top","imgHeight","height","style","complete","once","_this4","_classPrivateFieldGet5","_prev","_restartTimer","_next","_stop","activeSlide","_showControls","_handleIntroToggle","detail","isOpen","source","preventDefault","_handleWheel","passive","closest","_this5","_this6","delta","deltaY","threshold","Math","abs","_this7","_updatePlayPauseLabel","_classPrivateFieldGet6","isPlaying","Boolean","icon","_classPrivateFieldGet7","total","_this8","parsedInterval","newInterval","isFinite","_defineProperty","customElements","define"],"mappings":"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"}