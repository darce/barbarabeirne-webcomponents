{"version":3,"file":"init.js","sources":["../src/main.js","../src/init.js"],"sourcesContent":["const initMenuToggle = () => {\n    const button = document.querySelector('.js-menu-toggle');\n    const menu = document.querySelector('.js-menu');\n    if (!button || !menu) return;\n\n    menu.classList.remove('active');\n    button.setAttribute('aria-expanded', 'false');\n\n    button.addEventListener('click', () => {\n        const isExpanded = menu.classList.toggle('active');\n        button.setAttribute('aria-expanded', String(isExpanded));\n\n        document.dispatchEvent(new CustomEvent('ui-overlay-toggle', {\n            bubbles: true,\n            detail: { source: 'menu', isOpen: isExpanded },\n        }));\n    });\n};\n\nconst initGalleryIntroToggle = () => {\n    const galleryContainers = document.querySelectorAll('.js-gallery-container');\n    if (!galleryContainers.length) return;\n\n    galleryContainers.forEach((galleryContainer) => {\n        const toggle = galleryContainer.querySelector('.toggle-gallery-intro');\n        if (!toggle) return;\n\n        toggle.addEventListener('click', () => {\n            const isOpen = galleryContainer.classList.toggle('is-intro-open');\n            toggle.setAttribute('aria-expanded', String(isOpen));\n            toggle.textContent = isOpen ? 'Close' : 'Intro';\n        });\n    });\n};\n\ninitMenuToggle();\ninitGalleryIntroToggle();\n","import './main';\n\nconst componentLoaders = [\n    {\n        tag: 'dax-carousel',\n        loader: (baseUrl) => import(new URL('./components/dax-carousel/dax-carousel.js', baseUrl).href),\n    },\n    {\n        tag: 'gallery-intro-toggle',\n        loader: (baseUrl) => import(new URL('./components/gallery-intro-toggle/gallery-intro-toggle.js', baseUrl).href),\n    },\n    {\n        tag: 'dax-nav',\n        loader: (baseUrl) => import(new URL('./components/dax-nav/dax-nav.js', baseUrl).href),\n    },\n];\n\nconst getScriptBaseUrl = () => {\n    const currentScript = document.currentScript\n        || document.querySelector('script[src$=\"lib/init.js\"]')\n        || document.querySelector('script[src*=\"/lib/init.js\"]');\n\n    const scriptUrl = currentScript?.src\n        ? new URL(currentScript.src, window.location.href)\n        : new URL(window.location.href);\n\n    return new URL('./', scriptUrl);\n};\n\nconst loadComponents = () => {\n    const baseUrl = getScriptBaseUrl();\n    // eslint-disable-next-line no-console\n    console.log('[init.js] loadComponents called, baseUrl:', baseUrl.href);\n\n    componentLoaders.forEach(({ tag, loader }) => {\n        const needsComponent = document.querySelector(tag) && !customElements.get(tag);\n        // eslint-disable-next-line no-console\n        console.log(`[init.js] ${tag}: needsComponent=${needsComponent}`);\n        if (!needsComponent) return;\n\n        loader(baseUrl).catch((error) => {\n            // Log failures instead of throwing to avoid blocking other components.\n            // eslint-disable-next-line no-console\n            console.error(`Failed to load ${tag}`, error);\n        });\n    });\n};\n\nif (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', loadComponents, { once: true });\n} else {\n    loadComponents();\n}\n"],"names":["initMenuToggle","button","document","querySelector","menu","classList","remove","setAttribute","addEventListener","isExpanded","toggle","String","dispatchEvent","CustomEvent","bubbles","detail","source","isOpen","initGalleryIntroToggle","galleryContainers","querySelectorAll","length","forEach","galleryContainer","textContent","componentLoaders","tag","loader","baseUrl","URL","href","getScriptBaseUrl","currentScript","scriptUrl","src","window","location","loadComponents","console","log","_ref","needsComponent","customElements","get","concat","error","readyState","once"],"mappings":"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"}