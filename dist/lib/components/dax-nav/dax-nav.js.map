{"version":3,"file":"dax-nav.js","sources":["../../../src/components/base/base-component.js","../../../src/components/dax-nav/dax-nav.js"],"sourcesContent":["/**\n * BaseComponent mixin - provides common functionality for web components.\n *\n * Public API (for subclasses):\n *   Styles:     initStyles (reads static styles/stylesId)\n *   DOM:        initShadow\n *   Attributes: getNumberAttr, getBooleanAttr\n *   Events:     addManagedListener\n *   Timers:     setManagedInterval, clearManagedInterval, setManagedTimeout, clearManagedTimeout\n *   Cleanup:    cleanup (call in disconnectedCallback)\n */\nconst BaseComponent = (Base = HTMLElement) => class extends Base {\n    // Private fields\n    #listeners = [];\n\n    #timers = { intervals: [], timeouts: [] };\n\n    // ─────────────────────────────────────────────────────────────\n    // Styles (Public API)\n    // ─────────────────────────────────────────────────────────────\n\n    /**\n     * Inject component styles into document head.\n     * Reads styles from static `styles` and `stylesId` properties.\n     * Only injects once per unique ID.\n     */\n    initStyles() {\n        const { styles, stylesId } = this.constructor;\n        if (!styles || !stylesId) return;\n        if (document.getElementById(stylesId)) return;\n        const styleEl = document.createElement('style');\n        styleEl.id = stylesId;\n        styleEl.textContent = styles;\n        document.head.appendChild(styleEl);\n    }\n\n    // ─────────────────────────────────────────────────────────────\n    // DOM Initialization (Public API)\n    // ─────────────────────────────────────────────────────────────\n\n    initShadow(template, mode = 'open') {\n        const shadow = this.attachShadow({ mode });\n        shadow.appendChild(template.content.cloneNode(true));\n        return shadow;\n    }\n\n    // ─────────────────────────────────────────────────────────────\n    // Attribute Helpers (Public API)\n    // ─────────────────────────────────────────────────────────────\n\n    getNumberAttr(name, defaultValue = 0) {\n        const value = this.getAttribute(name);\n        return value !== null ? Number(value) : defaultValue;\n    }\n\n    getBooleanAttr(name) {\n        return this.hasAttribute(name);\n    }\n\n    // ─────────────────────────────────────────────────────────────\n    // Event Listener Management (Public API + Private cleanup)\n    // ─────────────────────────────────────────────────────────────\n\n    addManagedListener(target, event, handler, options) {\n        target.addEventListener(event, handler, options);\n        this.#listeners.push({\n            target,\n            event,\n            handler,\n            options,\n        });\n    }\n\n    #removeAllListeners() {\n        this.#listeners.forEach(({\n            target,\n            event,\n            handler,\n            options,\n        }) => {\n            target.removeEventListener(event, handler, options);\n        });\n        this.#listeners = [];\n    }\n\n    // ─────────────────────────────────────────────────────────────\n    // Timer Management (Public API + Private cleanup)\n    // ─────────────────────────────────────────────────────────────\n\n    setManagedInterval(callback, delay) {\n        const id = setInterval(callback, delay);\n        this.#timers.intervals.push(id);\n        return id;\n    }\n\n    clearManagedInterval(id) {\n        clearInterval(id);\n        this.#timers.intervals = this.#timers.intervals.filter((i) => i !== id);\n    }\n\n    setManagedTimeout(callback, delay) {\n        const id = setTimeout(callback, delay);\n        this.#timers.timeouts.push(id);\n        return id;\n    }\n\n    clearManagedTimeout(id) {\n        clearTimeout(id);\n        this.#timers.timeouts = this.#timers.timeouts.filter((i) => i !== id);\n    }\n\n    #clearAllTimers() {\n        this.#timers.intervals.forEach((id) => clearInterval(id));\n        this.#timers.timeouts.forEach((id) => clearTimeout(id));\n        this.#timers = { intervals: [], timeouts: [] };\n    }\n\n    // ─────────────────────────────────────────────────────────────\n    // Cleanup (Public API - call in disconnectedCallback)\n    // ─────────────────────────────────────────────────────────────\n\n    cleanup() {\n        this.#removeAllListeners();\n        this.#clearAllTimers();\n    }\n};\n\nexport default BaseComponent;\n","import BaseComponent from '../base/base-component';\n// CSS is pre-compiled by build:css to lib/components/dax-nav/dax-nav.css\nimport styles from '../../../lib/components/dax-nav/dax-nav.css';\n\nclass DaxNav extends BaseComponent(HTMLElement) {\n    static styles = styles;\n\n    static stylesId = 'dax-nav-styles';\n\n    connectedCallback() {\n        this.initStyles();\n        this.#initDOM();\n        this.#markCurrentPage();\n    }\n\n    disconnectedCallback() {\n        this.cleanup();\n    }\n\n    #initDOM() {\n        // Find and enhance existing menu list\n        const existingMenu = this.querySelector(':scope > ul');\n        if (existingMenu) {\n            existingMenu.classList.add('dax-nav-menu');\n            existingMenu.id = 'dax-nav-menu';\n        }\n\n        // Find and enhance project list\n        const projectList = this.querySelector('.dax-nav-projects, .project-list');\n        if (projectList) {\n            projectList.classList.add('dax-nav-projects');\n        }\n\n        this.querySelectorAll('.dax-nav-menu a[href], .dax-nav-projects a[href]').forEach((link) => {\n            if (!link.hasAttribute('tabindex')) {\n                link.setAttribute('tabindex', '0');\n            }\n        });\n    }\n\n    #markCurrentPage() {\n        const currentPath = window.location.pathname;\n\n        // Remove any existing current markers\n        this.querySelectorAll('.dax-nav-current').forEach((el) => {\n            el.classList.remove('dax-nav-current');\n            const link = el.querySelector('a');\n            if (link) {\n                link.removeAttribute('aria-current');\n            }\n        });\n\n        // Find matching link and mark as current\n        const links = this.querySelectorAll('a[href]');\n        let matchedLink = null;\n        let longestMatch = 0;\n\n        links.forEach((link) => {\n            const href = link.getAttribute('href');\n            if (!href) return;\n\n            // Resolve relative URLs\n            const absoluteUrl = new URL(href, window.location.href);\n            const linkPath = absoluteUrl.pathname;\n\n            // Check if current path matches or starts with link path\n            // Use longest match to handle nested routes\n            if (currentPath === linkPath || currentPath.startsWith(linkPath.replace(/\\/?$/, '/'))) {\n                const matchLength = linkPath.length;\n                if (matchLength > longestMatch) {\n                    longestMatch = matchLength;\n                    matchedLink = link;\n                }\n            }\n        });\n\n        if (matchedLink) {\n            const parentLi = matchedLink.closest('li');\n            if (parentLi) {\n                parentLi.classList.add('dax-nav-current');\n            }\n            matchedLink.setAttribute('aria-current', 'page');\n        }\n    }\n}\n\ncustomElements.define('dax-nav', DaxNav);\n\nexport default DaxNav;\n"],"names":["BaseComponent","_listeners","_timers","_Class_brand","Base","arguments","length","undefined","HTMLElement","WeakMap","WeakSet","_Base","_class","_this","_classCallCheck","_len","args","Array","_key","_callSuper","concat","_classPrivateMethodInitSpec","_classPrivateFieldInitSpec","intervals","timeouts","_inherits","_createClass","key","value","initStyles","_this$constructor","constructor","styles","stylesId","document","getElementById","styleEl","createElement","id","textContent","head","appendChild","initShadow","template","mode","shadow","attachShadow","content","cloneNode","getNumberAttr","name","defaultValue","getAttribute","Number","getBooleanAttr","hasAttribute","addManagedListener","target","event","handler","options","addEventListener","_classPrivateFieldGet","push","setManagedInterval","callback","delay","setInterval","clearManagedInterval","clearInterval","filter","i","setManagedTimeout","setTimeout","clearManagedTimeout","clearTimeout","cleanup","_assertClassBrand","_removeAllListeners","call","_clearAllTimers","forEach","_ref","removeEventListener","_classPrivateFieldSet","_DaxNav_brand","DaxNav","_BaseComponent","connectedCallback","_initDOM","_markCurrentPage","disconnectedCallback","existingMenu","querySelector","classList","add","projectList","querySelectorAll","link","setAttribute","currentPath","window","location","pathname","el","remove","removeAttribute","links","matchedLink","longestMatch","href","absoluteUrl","URL","linkPath","startsWith","replace","matchLength","parentLi","closest","_defineProperty","customElements","define"],"mappings":"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"}