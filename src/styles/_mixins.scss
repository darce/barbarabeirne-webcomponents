// Shared mixins and placeholders for all components
@use 'variables' as *;

// ─────────────────────────────────────────────────────────────
// Placeholders (extend-only selectors)
// ─────────────────────────────────────────────────────────────

// Flexbox centering
%flex-center {
  display: flex;
  align-items: center;
  justify-content: center;
}

%flex-between {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

%flex-column {
  display: flex;
  flex-direction: column;
}

// Positioning
%absolute-fill {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}

%absolute-full-width {
  position: absolute;
  left: 0;
  right: 0;
}

%absolute-center {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

%fixed-viewport-center {
  position: fixed;
  top: 50vh;
  left: 0;
  right: 0;
  transform: translateY(-50%);
}

// Buttons
%circular-button {
  @extend %flex-center;
  border-radius: 50%;
  cursor: pointer;
  transition: background $transition-fast, color $transition-fast;
}

%reset-button {
  appearance: none;
  border: none;
  background: none;
  padding: 0;
  margin: 0;
  font: inherit;
  color: inherit;
  cursor: pointer;
}

// Visibility
%visually-hidden {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

// ─────────────────────────────────────────────────────────────
// Mixins (parameterized styles)
// ─────────────────────────────────────────────────────────────

// Button hover/active states
@mixin button-hover($bg-color: $color-gray, $text-color: $color-white) {
  &:hover,
  &:active {
    background-color: $bg-color;
    color: $text-color;
  }
}

// Focus visible (keyboard-only focus)
@mixin focus-visible($color: currentColor, $offset: 2px) {
  &:focus-visible {
    outline: 2px solid $color;
    outline-offset: $offset;
  }
}

// Truncate text with ellipsis
@mixin truncate($lines: 1) {
  @if $lines == 1 {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  } @else {
    display: -webkit-box;
    -webkit-line-clamp: $lines;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}

// Responsive breakpoints
@mixin mobile {
  @media (max-width: #{$breakpoint-tablet - 1px}) {
    @content;
  }
}

@mixin tablet {
  @media (min-width: $breakpoint-tablet) and (max-width: #{$breakpoint-desktop - 1px}) {
    @content;
  }
}

@mixin desktop {
  @media (min-width: $breakpoint-desktop) {
    @content;
  }
}

// Aspect ratio container
@mixin aspect-ratio($width, $height) {
  aspect-ratio: #{$width} / #{$height};

  @supports not (aspect-ratio: 1) {
    &::before {
      content: '';
      display: block;
      padding-top: calc(#{$height} / #{$width} * 100%);
    }
  }
}

// Transition helper
@mixin transition($properties...) {
  $transitions: ();
  @each $property in $properties {
    $transitions: append($transitions, $property $transition-fast, comma);
  }
  transition: $transitions;
}
